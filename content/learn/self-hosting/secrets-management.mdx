---
title: সিক্রেটস ম্যানেজমেন্ট
icon: ph:key-duotone
---


সিক্রেট মানে—পাসওয়ার্ড, API key, টোকেন, এনক্রিপশন কী, ডাটাবেস ইউআরএল—যা লিক হলে ডাটা/অ্যাপ/ইনফ্রা ঝুঁকিতে পড়বে। এই অধ্যায়ে .env, Vault, SOPS, Kubernetes Secrets—সবকিছু সহজ ভাষায়, উদাহরণসহ ব্যাখ্যা করা হয়েছে।

## কেন সিক্রেট ম্যানেজমেন্ট দরকার?
- গিটে সিক্রেট গেলে ডাটা লিক
- একাধিক এনভায়রনমেন্টে (dev/prod) আলাদা সিক্রেট
- রোটেশন, এক্সপায়ারি, অডিট
- অ্যাক্সেস কন্ট্রোল

## তুলনা
| পদ্ধতি | সহজ | স্কেল | নিরাপত্তা |
|--------|------|------|------------|
| .env ফাইল | হ্যাঁ | ছোট | মাঝারি (ফাইল পারমিশন)
| Vault | না | বড় | খুব বেশি (ACL, অডিট)
| SOPS | হ্যাঁ | মিড | এনক্রিপ্টেড গিট |
| K8s Secrets | না | বড় | বেসিক (base64), RBAC |

## .env ফাইল (সিম্পল)
```bash
cat > .env <<'EOF'
DB_URL=postgres://user:pass@db/app
JWT_SECRET=$(openssl rand -hex 32)
EOF
chmod 600 .env
```
Compose-এ ব্যবহার:
```yaml
services:
	app:
		env_file: .env
```
**গিটে .env রাখবেন না!** `.gitignore`-এ যোগ করুন:
```
.env
```

## Vault (HashiCorp)
Vault দিয়ে সিক্রেট সেন্ট্রালাইজ, অডিট, রোটেট, অ্যাক্সেস কন্ট্রোল করা যায়।
```bash
docker run -d --name vault -e 'VAULT_DEV_ROOT_TOKEN_ID=root' -p 8200:8200 vault
export VAULT_ADDR='http://127.0.0.1:8200'
vault login root
vault kv put secret/myapp DB_URL=postgres://user:pass@db/app JWT_SECRET=xyz
vault kv get secret/myapp
```
CI/CD-তে: Vault থেকে টোকেন/সিক্রেট ফেচ করে ENV-এ সেট করুন।

## SOPS (YAML/JSON এনক্রিপ্টেড গিট)
SOPS দিয়ে YAML/JSON/TOML ফাইল এনক্রিপ্ট করে গিটে রাখা যায়।
```bash
cat > secrets.yaml <<EOF
db_url: postgres://user:pass@db/app
jwt_secret: xyz
EOF
sops -e -i secrets.yaml
```
ডিক্রিপ্ট:
```bash
sops -d secrets.yaml
```
GPG, KMS, বা age দিয়ে কী ম্যানেজ করুন।

## Kubernetes Secrets
```yaml
apiVersion: v1
kind: Secret
metadata:
	name: mysecret
type: Opaque
data:
	db_url: cG9zdGdyZXM6Ly91c2VyOnBhc3NAZGIvYXBw
	jwt_secret: eHl6
```
base64 encode করে YAML-এ দিন। RBAC দিয়ে অ্যাক্সেস কন্ট্রোল করুন।

## ডায়াগ্রাম (সিক্রেট ফ্লো)
```
┌────────────┐   ┌────────────┐   ┌────────────┐
│ Developer  │→  │  Secrets   │→  │  App/CI    │
│            │   │  Store     │   │  Runtime   │
└────────────┘   └────────────┘   └────────────┘
```

## Production টিপস
- .env ফাইল 600 পারমিশন
- গিটে কখনোই সিক্রেট না রাখুন
- Vault/SOPS ব্যবহার করলে কী রোটেট ও অ্যাক্সেস মনিটর করুন
- CI/CD-তে সিক্রেট inject করুন, হার্ডকোড নয়
- কনটেইনারে ENV leak হয় কিনা চেক করুন: `docker inspect`

## সাধারণ সমস্যা ও সমাধান
| সমস্যা | কারণ | সমাধান |
|--------|------|--------|
| সিক্রেট গিটে চলে গেছে | .gitignore নেই | গিট হিস্ট্রি থেকে রিমুভ করুন |
| ENV leak | কনটেইনার inspect | ENV কমান, bind-mount করুন |
| Vault access fail | টোকেন/ACL ভুল | টোকেন/পলিসি চেক |

## চেকলিস্ট
- [ ] .env গিটে নেই
- [ ] পারমিশন 600
- [ ] Vault/SOPS/K8s সিক্রেট কনফিগ
- [ ] CI/CD-তে inject
- [ ] রোটেশন/মনিটরিং

## পরবর্তী
জিরো ডাউনটাইম ডেপ্লয়: strategy, healthcheck, rollback → [/self-hosting/zero-downtime-deploy](/self-hosting/zero-downtime-deploy)

<Callout type="info">সিক্রেট leak হলে দ্রুত রিভোক/রোটেট করুন, মনিটরিং চালু রাখুন।</Callout>

<Callout type="success">এখন আপনি production-grade সিক্রেট ম্যানেজমেন্ট confidently করতে পারবেন!</Callout>
