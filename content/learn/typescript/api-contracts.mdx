---
title: Contract-first API ডিজাইন (OpenAPI + TS)
icon: mdi:file-document-outline
---

## ভূমিকা

এন্টারপ্রাইজ-লেভেলের সফটওয়্যার বা API তৈরি করতে গেলে, "কোড আগে" নয়—"চুক্তি আগে" (contract-first) ডিজাইন করা সবচেয়ে নিরাপদ ও maintainable। Contract-first API ডিজাইন মানে, API-এর কাঠামো, ডাটা, এবং নিয়ম আগে নির্ধারণ করা হয় (যেমন: OpenAPI spec), তারপর TypeScript দিয়ে সেই চুক্তি অনুযায়ী কোড লেখা হয়। এতে ভুল কম হয়, টিমে কমিউনিকেশন সহজ হয়, এবং টাইপ সেফটি নিশ্চিত হয়।

## অ্যানালজি: "বিল্ডিং-এর নকশা আগে, নির্মাণ পরে"

ধরা যাক, আপনি একটি বিল্ডিং বানাতে যাচ্ছেন। প্রথমে আর্কিটেক্ট নকশা তৈরি করেন—কতটা বড়, কোথায় দরজা, জানালা, কোন রুমে কী হবে। এই নকশা (contract) অনুযায়ী নির্মাণ শুরু হয়। যদি নকশা না থাকে, নির্মাণে ভুল, দ্বন্দ্ব, এবং ঝামেলা হবে। API ডিজাইনেও ঠিক এমন—contract আগে, কোড পরে।

## বিস্তারিত আলোচনা

### Contract-first API ডিজাইন কী?
- API-এর কাঠামো, ডাটা, রেসপন্স, এবং নিয়ম আগে নির্ধারণ করা হয়
- সাধারণত OpenAPI (Swagger) স্পেসিফিকেশন দিয়ে contract লেখা হয়
- Backend ও frontend টিম একই contract ফলো করে
- TypeScript দিয়ে সেই contract অনুযায়ী টাইপ, ইন্টারফেস, এবং কোড লেখা হয়

### OpenAPI স্পেসিফিকেশন
- YAML/JSON ফরম্যাটে API-এর endpoint, request, response, error, security—সবকিছু define করা হয়
- Tools দিয়ে TypeScript টাইপ/ইন্টারফেস জেনারেট করা যায়
- Contract পরিবর্তন হলে, টাইপও আপডেট হয়

### TypeScript-এ Contract-first
- OpenAPI spec থেকে টাইপ/ইন্টারফেস জেনারেট করুন (যেমন: openapi-typescript, swagger-typescript-api)
- API call, validation, error handling—সবকিছু টাইপ সেফ হয়
- Frontend ও backend টিমে কমিউনিকেশন সহজ হয়

### উদাহরণ
```yaml
# OpenAPI spec (YAML)
paths:
  /users:
    get:
      summary: Get all users
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
```

```typescript
// TypeScript টাইপ (auto-generated)
export interface User {
  id: string;
  name: string;
}

// API call
async function getUsers(): Promise<User[]> {
  // ...fetch logic
}
```

## বুলেট পয়েন্টস
- Contract-first API ডিজাইনে ভুল কম হয়, টাইপ সেফটি নিশ্চিত হয়
- OpenAPI spec দিয়ে contract লিখুন
- Tools দিয়ে TypeScript টাইপ/ইন্টারফেস জেনারেট করুন
- Frontend ও backend টিমে কমিউনিকেশন সহজ হয়
- Contract পরিবর্তন হলে, টাইপও আপডেট হয়

## প্র্যাকটিকাল এক্সারসাইজ

1. **OpenAPI spec লিখুন:**
   - একটি ছোট API (যেমন: /users) জন্য YAML/JSON ফরম্যাটে contract লিখুন

2. **TypeScript টাইপ জেনারেট করুন:**
   - openapi-typescript বা swagger-typescript-api দিয়ে টাইপ জেনারেট করুন

3. **API call লিখুন:**
   - জেনারেটেড টাইপ ব্যবহার করে API call ও error handling করুন

4. **Contract পরিবর্তন করুন:**
   - contract পরিবর্তন করে দেখুন, টাইপ কিভাবে আপডেট হয়

## সম্পর্কিত পাঠ
- [Domain-driven Design (DDD) সাথে TypeScript](/typescript/ddd)
- [মাইক্রোসার্ভিসে টাইপ-সেফ gRPC ও ইভেন্ট-ড্রিভেন সিস্টেম](/typescript/microservices)
- [Type-safe Builders ও Fluent API ডিজাইন](/typescript/fluent-api)

---

**শেষ কথা:**
Contract-first API ডিজাইন এন্টারপ্রাইজ সফটওয়্যারে maintainability, scalability, এবং টাইপ সেফটি নিশ্চিত করে। OpenAPI spec দিয়ে contract লিখুন, TypeScript দিয়ে টাইপ জেনারেট করুন—এটাই আধুনিক API ডিজাইনের সেরা পদ্ধতি।
