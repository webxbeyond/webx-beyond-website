---
title: ডাইনামিক ইনভেন্টরি প্লাগইন ও স্ক্রিপ্ট
icon: solar:alt-arrow-right-bold-duotone
---

বড় ও ডাইনামিক ইনফ্রাস্ট্রাকচার ম্যানেজ করতে গেলে স্ট্যাটিক ইনভেন্টরি ফাইল যথেষ্ট নয়। ক্লাউড, ভার্চুয়ালাইজেশন, কনটেইনার—এসব পরিবেশে হোস্টের সংখ্যা ও আইপি অ্যাড্রেস বারবার বদলায়। এই চ্যালেঞ্জ মোকাবেলায় আনসিবলের ডাইনামিক ইনভেন্টরি প্লাগইন ও স্ক্রিপ্ট ব্যবহার করা হয়।

## অ্যানালজি: রেস্টুরেন্টের অর্ডার

ধরা যাক, আপনি একটি বড় রেস্টুরেন্টের ম্যানেজার। প্রতিদিন কাস্টমার, টেবিল, অর্ডার—সবকিছু বদলায়। যদি আপনি প্রতিদিনের জন্য আলাদা আলাদা তালিকা তৈরি করেন, তাহলে সময় ও শ্রম দুটোই বেশি লাগবে। কিন্তু যদি অর্ডার ম্যানেজমেন্ট সফটওয়্যার ব্যবহার করেন, তাহলে অটোমেটিকভাবে সব আপডেট হয়ে যাবে।

ডাইনামিক ইনভেন্টরি ঠিক এমনই—হোস্টের তালিকা অটোমেটিকভাবে তৈরি ও আপডেট হয়।

## ডাইনামিক ইনভেন্টরি কী?

- **ডাইনামিক ইনভেন্টরি**: এমন একটি পদ্ধতি, যেখানে হোস্টের তালিকা (inventory) অটোমেটিকভাবে সোর্স থেকে (যেমন AWS, GCP, Azure, Docker, CMDB) সংগ্রহ করা হয়।
- **ইনভেন্টরি প্লাগইন**: YAML ফাইলের মাধ্যমে ডাইনামিক সোর্স থেকে হোস্ট সংগ্রহের জন্য আনসিবলের বিল্ট-ইন প্লাগইন।
- **ইনভেন্টরি স্ক্রিপ্ট**: কাস্টম Python/শেল স্ক্রিপ্ট, যা JSON আউটপুট দিয়ে আনসিবলকে হোস্টের তালিকা দেয়।

## ডাইনামিক ইনভেন্টরি প্লাগইন ব্যবহার

### উদাহরণ: AWS EC2

**inventory/aws_ec2.yml**
```yaml
plugin: aws_ec2
regions:
  - ap-south-1
filters:
  instance.state-name: running
keyed_groups:
  - key: tags.Name
    prefix: tag
```

- `plugin`: কোন প্লাগইন ব্যবহার হবে (aws_ec2, gcp_compute, azure_rm, ইত্যাদি)
- `regions`: কোন AWS region থেকে হোস্ট আনবে
- `filters`: কোন instance গুলো আনবে
- `keyed_groups`: ট্যাগ অনুযায়ী গ্রুপিং

### প্লেবুক রান:
```bash
ansible-inventory -i inventory/aws_ec2.yml --list
ansible-playbook -i inventory/aws_ec2.yml playbook.yml
```

## কাস্টম ইনভেন্টরি স্ক্রিপ্ট

যদি বিল্ট-ইন প্লাগইন যথেষ্ট না হয়, তাহলে কাস্টম স্ক্রিপ্ট লিখে JSON আউটপুট দিতে হবে।

### উদাহরণ: Python স্ক্রিপ্ট

**inventory/my_inventory.py**
```python
#!/usr/bin/env python3
import json

def main():
    inventory = {
        "web": {
            "hosts": ["web01", "web02"]
        },
        "db": {
            "hosts": ["db01"]
        },
        "_meta": {
            "hostvars": {
                "web01": {"ansible_host": "10.0.0.1"},
                "web02": {"ansible_host": "10.0.0.2"},
                "db01": {"ansible_host": "10.0.0.3"}
            }
        }
    }
    print(json.dumps(inventory))

if __name__ == "__main__":
    main()
```

### রান করার নিয়ম:
```bash
ansible-inventory -i inventory/my_inventory.py --list
ansible-playbook -i inventory/my_inventory.py playbook.yml
```

## কখন ডাইনামিক ইনভেন্টরি ব্যবহার করবেন?

- ক্লাউড/ভার্চুয়ালাইজড/কনটেইনার পরিবেশে
- হোস্টের সংখ্যা ও আইপি বারবার বদলায়
- CMDB বা API থেকে হোস্ট সংগ্রহ করতে হয়

## বেস্ট প্র্যাকটিস

- বিল্ট-ইন প্লাগইন ব্যবহার করুন, যদি সম্ভব হয়
- কাস্টম স্ক্রিপ্টে JSON আউটপুট নিশ্চিত করুন
- ইনভেন্টরি ফাইল/স্ক্রিপ্ট version control এ রাখুন
- Sensitive data vault দিয়ে এনক্রিপ্ট করুন

## উপসংহার

ডাইনামিক ইনভেন্টরি প্লাগইন ও স্ক্রিপ্ট ব্যবহার করলে আনসিবল দিয়ে বড়, ডাইনামিক, ক্লাউড-নেটিভ ইনফ্রাস্ট্রাকচার সহজে ও অটোমেটেডভাবে ম্যানেজ করা যায়।

---

**পরবর্তী পাঠ:** [একাধিক ইনভেন্টরি একত্রে ব্যবহার](/ansible/multiple-inventory)
